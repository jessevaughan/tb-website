<section class="wrapper decor" id="portfolio">
  <div class="container">
    <div class="row">
      <div class="col_12">
        <header>
          <h1>Portfolio</h1>
        </header>
      </div>
    </div>
    <div class="portfolio-layout">
      <div class="sidebar-layout__sidebar">
        <div class="button-group-wrap">
          <div class="button-group filter-button-group">
            <button class="button" onclick="location.href='/portfolio#filter=.all';">View All</button>
            <button class="button" onclick="location.href='/portfolio#filter=.educational';">Educational</button>
            <button class="button" onclick="location.href='/portfolio#filter=.commercial';">Commercial</button>
            <button class="button" onclick="location.href='/portfolio#filter=.government';">Government</button>
            <button class="button" onclick="location.href='/portfolio#filter=.historic';">Historic</button>
            <button class="button" onclick="location.href='/portfolio#filter=.healthcare';">Healthcare</button>
            <button class="button" onclick="location.href='/portfolio#filter=.institutional';">Institutional</button>
            <button class="button" onclick="location.href='/portfolio#filter=.residential';">Residential</button>
            <button class="button" onclick="location.href='/portfolio#filter=.other';">Other Projects</button>
          </div>
        </div>
      </div>
      <div class="sidebar-layout__main">
        <div class="portfolio-content-wrap">

          <div id="portfolio-slide" class="siema">
  
            <div class="portfolio__contents">
              <img src="/assets/img/portfolio/aac-londontown-01.jpg">
            </div>
            
            <div class="portfolio__contents">
              <img src="/assets/img/portfolio/aac-londontown-02.jpg">
            </div>

            <div class="portfolio__contents">
              <img src="/assets/img/portfolio/aac-londontown-03.jpg">
            </div>

            <div class="portfolio__contents">
              <img src="/assets/img/portfolio/aac-londontown-04.jpg">
            </div>

            <div class="portfolio__contents">
              <img src="/assets/img/portfolio/aac-londontown-05.jpg">
            </div>

          </div>

          <!--
          <button class="prev"><i class="fas fa-arrow-left"></i></button>
          <button class="next"><i class="fas fa-arrow-right"></i></button>
          -->

        </div>
        <div class="portfolio-description">
          <h2>{{ title }}</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur deserunt totam, sint nulla provident, saepe vel voluptatibus animi magni! Quos expedita temporibus quas tenetur provident ea adipisci aliquid iusto quia.</p>
        </div>
        <div class="portfolio-details">
          <p><b>Location:</b> Lorem ipsum dolor sit amet.<br>
            <b>Owner:</b> Lorem ipsum dolor sit amet.<br>
            <b>Architect:</b> Lorem ipsum dolor sit amet.<br>
            <b>Schedule:</b> Lorem ipsum dolor sit amet.<br>
            <b>Size:</b> Lorem ipsum dolor sit amet.<br>
            <b>Description:</b> Lorem ipsum dolor sit amet.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="/site/themes/tb/js/lib/siema.min.js"></script>



<script>
    // extend a Siema class by two methods
    // addDots - to create a markup for dots
    // updateDots - to update classes on dots on change callback
    class SiemaWithDots extends Siema {

      addDots() {
        // create a contnier for all dots
        // add a class 'dots' for styling reason
        this.dots = document.createElement('div');
        this.dots.classList.add('dots');

        // loop through slides to create a number of dots
        for(let i = 0; i < this.innerElements.length; i++) {
          // create a dot
          const dot = document.createElement('button');

          // add a class to dot
          dot.classList.add('dots__item');

          // add an event handler to each of them
          dot.addEventListener('click', () => {
            this.goTo(i);
          })

          // append dot to a container for all of them
          this.dots.appendChild(dot);
        }

        // add the container full of dots after selector
        this.selector.parentNode.insertBefore(this.dots, this.selector.nextSibling);
      }

      updateDots() {
        // loop through all dots
        for(let i = 0; i < this.dots.querySelectorAll('button').length; i++) {
          // if current dot matches currentSlide prop, add a class to it, remove otherwise
          const addOrRemove = this.currentSlide === i ? 'add' : 'remove';
          this.dots.querySelectorAll('button')[i].classList[addOrRemove]('dots__item--active');
        }
      }
    }

    // instantiate new extended Siema
    const mySiemaWithDots = new SiemaWithDots({
      draggable: true,
      loop: true,
      // on init trigger method created above
      onInit: function(){
        this.addDots();
        this.updateDots();
      },

      // on change trigger method created above
      onChange: function(){
        this.updateDots()
      },
    });
    const prev = document.querySelector('.prev');
    const next = document.querySelector('.next');

    prev.addEventListener('click', () => mySiemaWithDots.prev());
    next.addEventListener('click', () => mySiemaWithDots.next());
</script>